<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/assets/css/menu_stl.css" rel="stylesheet" type="text/css">
    <title>Menu de compra</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

<style>
#carrito{
    position: fixed;
    top: 0;
    right: -380px;
    width: 300px;
    height: 100%;
    background: #222222;
    padding: 20px;
    box-shadow: -2px 0 5px rgba(0,0,0,0.2);
    transition: 0.3s ease;
    overflow-y: auto;
}

#carrito button{
    background-color:#494949;
}

#carrito.abierto{
    right: 0;
}

#lista-carrito .item-carrito{
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid #333;
    padding: 8px 0;
}

#boton-carrito{
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 18px;
    background: #ff5252;
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 18px;
    cursor: pointer;
}

#mensaje-compra {
    display: none;
    background: green;
    color: white;
    padding: 10px;
    text-align: center;
}
</style>
</head>
<body>
<nav>
    <header id="header">
        <a href="/index.html">&lt;Volver</a>
        <h3>Menu de articulos</h3> 
        <img class="carrito" src="/img-stock/icons/carrito-de-compras.png" alt="carrito">
    </header>
    <section></section>
</nav>
<!-- <div class="lista-carrito"></div> -->


<!-- Boton de carrito -->
<div id="carrito">
    <h2>ðŸ›’ Tu Carrito</h2>

    <div id="lista-carrito"></div>

    <p id="total" style="margin-top:10px; font-weight:bold;">Total: $0.00 MXN</p>

    <button onclick="vaciarCarrito()" style="margin-top:10px;">Vaciar carrito</button>
    <button onclick="comprar()" style="margin-top:10px;">Comprar</button>

    <p id="mensaje-compra">Â¡Compra realizada! ðŸŽ‰</p>
</div>
<button id="boton-carrito" onclick="toggleCarrito()">ðŸ›’</button>
<!-- ______________________________________________ -->

<div class="productos">
    <div id="contenedor" class="contenedor">
        <div class="producto">
            <img src="/img-stock/man-go.png" alt="producto 1">
            <div class="informacion">
                <p>Mangonada</p>
                <p class="precio">$79<span>.99</span></p>
                <button onclick="agregarAlCarrito('Mangonada', 80)">Comprar</button>
            </div>
        </div>
        <div class="producto">
            <img src="/img-stock/uva-ras.png" alt="producto 2">
            <div class="informacion">
                <p>Raspado de uva</p>                   
                <p class="precio">$29<span>.99</span></p>
                <button onclick="agregarAlCarrito('Raspado de uva', 30)">Comprar</button>
            </div>
        </div>
        <div class="producto">
            <img src="/img-stock/sand-ia2.png" alt="producto 3">
            <div class="informacion">
                <p>Paleta de sandia</p>                   
                <p class="precio">$20<span></span></p>
                <button onclick="agregarAlCarrito('Paleta de sandia', 20)">Comprar</button>
            </div>
        </div>
        <div class="producto">
            <img src="/img-stock/sol-eta2.png" alt="producto 4">
            <div class="informacion">
                <p>Soleta</p>                   
                <p class="precio">$149<span>.99</span></p>
                <button onclick="agregarAlCarrito('Soleta', 150)">Comprar</button>
            </div>
        </div>
        
        <!-- <div class="producto">
            <img src="img/imagen5.webp" alt="producto 5">
            <div class="informacion">
                <p>Producto 5</p>                   
                <p class="precio">$599<span>.99</span></p>
                <button ">Comprar</button>
            </div>
        </div> -->

    </div>
</div>
<script src="/assets/js/carrito.js"></script>
<script>
document.addEventListener("click", function(e) {
    const carrito = document.getElementById("carrito");
    const boton = document.getElementById("boton-carrito");

    if (!carrito) return; // seguridad por si no existe

    // si el carrito estÃ¡ abierto
    if (carrito.classList.contains("abierto")) {

        // si se hizo clic fuera del carrito y fuera del botÃ³n
        if (!carrito.contains(e.target) && !boton.contains(e.target)) {
            carrito.classList.remove("abierto");
        }
    }
});
</script>
</body>

</html>